{"version":3,"file":"Group.js","sources":["../../../../src/Kit/DataEntry/Radio/Group.tsx"],"sourcesContent":["import classNames from 'classnames';\nimport useMergedState from 'rc-util/lib/hooks/useMergedState';\nimport * as React from 'react';\nimport {ConfigContext} from 'antd/es/config-provider/';\nimport SizeContext from 'antd/es/config-provider/SizeContext';\nimport pickAttrs from 'rc-util/lib/pickAttrs';\nimport {RadioGroupContextProvider} from 'antd/es/radio/context';\nimport type {RadioChangeEvent, RadioGroupButtonStyle, RadioGroupProps} from 'antd/es/radio/interface';\nimport Radio from './Radio';\n\nimport useStyle from 'antd/es/radio/style';\n\nconst RadioGroup = React.forwardRef<HTMLDivElement, RadioGroupProps>((props, ref) => {\n    const {getPrefixCls, direction} = React.useContext(ConfigContext);\n    const size = React.useContext(SizeContext);\n\n    const [value, setValue] = useMergedState(props.defaultValue, {\n        value: props.value\n    });\n\n    const onRadioChange = (ev: RadioChangeEvent) => {\n        const lastValue = value;\n        const val = ev.target.value;\n        if (!('value' in props)) {\n            setValue(val);\n        }\n        const {onChange} = props;\n        if (onChange && val !== lastValue) {\n            onChange(ev);\n        }\n    };\n\n    const {\n        prefixCls: customizePrefixCls,\n        className,\n        rootClassName,\n        options,\n        buttonStyle = 'outline' as RadioGroupButtonStyle,\n        disabled,\n        children,\n        size: customizeSize,\n        style,\n        id,\n        onMouseEnter,\n        onMouseLeave,\n        onFocus,\n        onBlur\n    } = props;\n    const prefixCls = getPrefixCls('radio', customizePrefixCls);\n    const groupPrefixCls = `${prefixCls}-group`;\n\n    // Style\n    const [wrapSSR, hashId] = useStyle(prefixCls);\n\n    let childrenToRender = children;\n    // 如果存在 options, 优先使用\n    if (options && options.length > 0) {\n        childrenToRender = options.map(option => {\n            if (typeof option === 'string' || typeof option === 'number') {\n                // 此处类型自动推导为 string\n                return (\n                    <Radio\n                        key={option.toString()}\n                        prefixCls={prefixCls}\n                        disabled={disabled}\n                        value={option}\n                        checked={value === option}\n                    >\n                        {option}\n                    </Radio>\n                );\n            }\n            // 此处类型自动推导为 { label: string value: string }\n            return (\n                <Radio\n                    key={`radio-group-value-options-${option.value}`}\n                    prefixCls={prefixCls}\n                    disabled={option.disabled || disabled}\n                    value={option.value}\n                    checked={value === option.value}\n                    style={option.style}\n                >\n                    {option.label}\n                </Radio>\n            );\n        });\n    }\n\n    const mergedSize = customizeSize || size;\n    const classString = classNames(\n        groupPrefixCls,\n        `${groupPrefixCls}-${buttonStyle}`,\n        {\n            [`${groupPrefixCls}-${mergedSize}`]: mergedSize,\n            [`${groupPrefixCls}-rtl`]: direction === 'rtl'\n        },\n        className,\n        rootClassName,\n        hashId\n    );\n    return wrapSSR(\n        <div\n            // {...getDataOrAriaProps(props)}\n            {...pickAttrs(props, {\n                aria: true,\n                data: true\n            })}\n            className={classString}\n            style={style}\n            onMouseEnter={onMouseEnter}\n            onMouseLeave={onMouseLeave}\n            onFocus={onFocus}\n            onBlur={onBlur}\n            id={id}\n            ref={ref}\n        >\n            <RadioGroupContextProvider\n                value={{\n                    onChange: onRadioChange,\n                    value,\n                    disabled: props.disabled,\n                    name: props.name\n                }}\n            >\n                {childrenToRender}\n            </RadioGroupContextProvider>\n        </div>\n    );\n});\n\nexport default React.memo(RadioGroup);\n"],"names":["RadioGroup","React","forwardRef","props","ref","getPrefixCls","direction","useContext","ConfigContext","size","SizeContext","value","setValue","useMergedState","defaultValue","prefixCls","customizePrefixCls","className","rootClassName","options","buttonStyle","disabled","children","customizeSize","style","id","onMouseEnter","onMouseLeave","onFocus","onBlur","groupPrefixCls","wrapSSR","hashId","useStyle","let","childrenToRender","length","map","option","createElement","Radio","key","toString","checked","label","mergedSize","classString","classNames","pickAttrs","aria","data","RadioGroupContextProvider","onChange","lastValue","val","ev","target","name","Group","memo"],"mappings":";;;;;;;;;AAYA,MAAMA,IAAaC,EAAMC,WAA4C,CAACC,GAAOC,MAAAA;AACzE,MAAM,EAACC,cAAAA,GAAcC,WAAAA,EAAA,IAAaL,EAAMM,WAAWC,CAAa,GAC1DC,IAAOR,EAAMM,WAAWG,CAAW;AAEzC,QAAM,CAACC,GAAOC,CAAYC,IAAAA,EAAeV,EAAMW,cAAc,EACzDH,OAAOR,EAAMQ,MAAA,CAChB,GAcK,EACFI,WAAWC,GACXC,WAAAA,GACAC,eAAAA,GACAC,SAAAA,GACAC,aAAAA,IAAc,WACdC,UAAAA,GACAC,UAAAA,GACAb,MAAMc,GACNC,OAAAA,GACAC,IAAAA,GACAC,cAAAA,GACAC,cAAAA,GACAC,SAAAA,GACAC,QAAAA,EACA,IAAA1B,GACEY,IAAYV,EAAa,SAASW,CAAkB;AACpD,MAAAc,IAAoBf,IAAH,UAGjB,CAACgB,GAASC,CAAAA,IAAUC,EAASlB,CAAS;AAE5CmB,MAAIC,IAAmBb;AAEnBH,SAAAA,KAA4B,IAAjBA,EAAQiB,WACAD,IAAAhB,EAAQkB,IAAI,OACvB,OAAOC,KAAW,YAAY,OAAOA,KAAW,WAG5CrC,EAAAsC,cAACC,GAAA,EACGC,KAAKH,EAAOI,SAAS,GACrB3B,WAAAA,GACAM,UAAAA,GACAV,OAAO2B,GACPK,SAAShC,MAAU2B,EAAA,GAElBA,CAAA,IAMTrC,EAAAsC,cAACC,GAAA,EACGC,KAAK,+BAA6BH,EAAO3B,OACzCI,WAAAA,GACAM,UAAUiB,EAAOjB,YAAYA,GAC7BV,OAAO2B,EAAO3B,OACdgC,SAAShC,MAAU2B,EAAO3B,OAC1Ba,OAAOc,EAAOd,MAAA,GAEbc,EAAOM,KAAA,CAGnB,IAGCC,IAAatB,KAAiBd,GAC9BqC,IAAcC,EAChBjB,GACGA,IAAH,MAAqBV,GACrB,EACQU,CAAAA,IAAH,MAAqBe,CAAAA,GAAeA,GACjCf,CAAAA,IAAH,MAAwC,GAAdxB,MAAc,MAC7C,GACAW,GACAC,GACAc,CAAA,GAEGD,EACH9B,EAAAsC,cAAC,OAAA,EAEI,GAAGS,EAAU7C,GAAO,EACjB8C,MAAM,IACNC,MAAM,GAAA,CACT,GACDjC,WAAW6B,GACXtB,OAAAA,GACAE,cAAAA,GACAC,cAAAA,GACAC,SAAAA,GACAC,QAAAA,GACAJ,IAAAA,GACArB,KAAAA,EAAA,GAEAH,EAAAsC,cAACY,GAAA,EACGxC,OAAO,EACHyC,UAlGM,OAAA;AAClB,QAAMC,IAAY1C,GACZ2C,IAAMC,EAAGC,OAAO7C,OAIfyC,KAHD,WAAWjD,KACbS,EAAS0C,CAAG,GAEGnD,GAAZiD;AACHA,IAAAA,KAAYE,MAAQD,KACpBD,EAASG,CAAE;AAAA,EACf,GA0FY5C,OAAAA,GACAU,UAAUlB,EAAMkB,UAChBoC,MAAMtD,EAAMsD,KAChB,EAAA,GAECtB,CACL,CACJ,CAAA;AAER,CAAC,GAEDuB,IAAezD,EAAM0D,KAAK3D,CAAU;"}