import { Meta, Story, Canvas } from "@storybook/addon-docs";
import { Controls } from "@storybook/addon-docs";
import { argTypes, Template} from "./data";
import Exemples, { Sources } from './exemples';
import CustomCanvas from '../../../../.storybook/components/CustomCanvas.jsx';


<Meta
    title="Design System/DataEntry/Upload"
    argTypes={argTypes}
/>

## Usage

Upload file by selecting or dragging.

## When To Use

Uploading is the process of publishing information (web pages, text, pictures, video, etc.) to a remote server via a web page or upload tool.

- When you need to upload one or more files.
- When you need to show the process of uploading.
- When you need to upload files by dragging and dropping.

## Examples

##### Upload by clicking

Classic mode. File selection dialog pops up when upload button is clicked.

<CustomCanvas content={Exemples.UploadByClicking} source={Sources.UploadByClicking} />

##### Default Files

Use `defaultFileList` for uploaded files when page init.

<CustomCanvas content={Exemples.DefaultFiles} source={Sources.DefaultFiles} />

##### Avatar

Click to upload user's avatar, and validate size and format of picture with `beforeUpload`.

<CustomCanvas content={Exemples.Avatar} source={Sources.Avatar} />

##### Pictures Wall

After users upload picture, the thumbnail will be shown in list. The upload button will disappear when count meets limitation.

<CustomCanvas content={Exemples.PicturesWall} source={Sources.PicturesWall} />

##### Crop image before uploading

Use `antd-img-crop` to crop image before uploading.

<CustomCanvas content={Exemples.Crop} source={Sources.Crop} />

##### Pictures with list style

If uploaded file is a picture, the thumbnail can be shown. `IE8/9` do not support local thumbnail show. Please use `thumbUrl` instead.

<CustomCanvas content={Exemples.ListStyle} source={Sources.ListStyle} />

##### Drag and Drop

You can drag files to a specific area, to upload. Alternatively, you can also upload by selecting.

We can upload serveral files at once in modern browsers by giving the input the `multiple` attribute.

<CustomCanvas content={Exemples.DragNDrop} source={Sources.DragNDrop} />

##### Complete control over file list

You can gain full control over filelist by configuring `fileList`.

You can accomplish all kinds of customed functions. The following shows two circumstances:
- limit the number of uploaded files.
- read from response and show file link. 

<CustomCanvas content={Exemples.CompleteControl} source={Sources.CompleteControl} />

##### Upload directory

You can select and upload a whole directory.

<CustomCanvas content={Exemples.Directory} source={Sources.Directory} />

##### Upload png file only

`beforeUpload` only prevent upload behavior when return false or reject promise, the prevented file would still show in file list. Here is the example you can keep prevented files out of list by using `onChange`.

<CustomCanvas content={Exemples.PngOnly} source={Sources.PngOnly} />

##### Customize preview file

Customize local preview. Can handle with non-image format files such as video.

<CustomCanvas content={Exemples.CustomPreview} source={Sources.CustomPreview} />

##### Aliyun OSS

Use Aliyun OSS upload example.

<CustomCanvas content={Exemples.AliyunOSS} source={Sources.AliyunOSS} />

##### Upload manually

Upload files manually after `beforeUpload` returns `false`.

<CustomCanvas content={Exemples.Manual} source={Sources.Manual} />

##### Transform file before request

Use `transformFile` for transform file before request such as add a watermark.

<CustomCanvas content={Exemples.Transform} source={Sources.Transform} />

##### Custom action icon

Use `showUploadList` for custom action icons of files.

<CustomCanvas content={Exemples.CustomActionIcon} source={Sources.CustomActionIcon} />

##### Customize Progress Bar

Use `progress` for customize progress bar.

<CustomCanvas content={Exemples.CustomProgress} source={Sources.CustomProgress} />

## API

<Canvas>
    <Story name="Upload">{Template.bind({})}</Story>
</Canvas>

<Controls story="Upload" />