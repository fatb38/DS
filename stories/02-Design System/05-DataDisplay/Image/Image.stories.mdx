import { Meta, Story, Canvas } from "@storybook/addon-docs";
import { Controls } from "@storybook/addon-docs";
import { ImageArgTypes, Template } from "./data";
import Exemples, { Sources } from './exemples';
import CustomCanvas from '../../../../.storybook/components/CustomCanvas.jsx';


<Meta
    title="Design System/DataDisplay/Image"
    argTypes={ImageArgTypes}
/>

# Image

Previewable image.

## Usage

- When you need to display pictures.
- Display when loading a large image or fault tolerant handling when loading fail.

## Examples

##### Basic
Click the image to zoom in.

<CustomCanvas content={Exemples.Basic} source={Sources.Basic} />

##### Bordered and rounded image
Image can have a border radius, and / or a border.

<CustomCanvas content={Exemples.Bordered} source={Sources.Bordered} />


##### Fault Tolerant
Load failed to display image placeholder.

<CustomCanvas content={Exemples.FaultTolerant} source={Sources.FaultTolerant} />

##### Progressive loading
Progressive when large image loading.

<CustomCanvas content={Exemples.Loading} source={Sources.Loading} />

##### Multiple image preview
Click the left and right switch buttons to preview multiple images.

<CustomCanvas content={Exemples.MultiplePreview} source={Sources.MultiplePreview} />

##### Preview from one image
Preview a collection from one image.

<CustomCanvas content={Exemples.Preview} source={Sources.Preview} />

##### Custom preview image
You can set different preview image.

<CustomCanvas content={Exemples.Custom} source={Sources.Custom} />

##### Controlled preview
You can make preview controlled.

<CustomCanvas content={Exemples.Controlled} source={Sources.Controlled} />

## Api

<Canvas>
    <Story name="Image">{Template.bind({})}</Story>
</Canvas>

<Controls story="Image" />

### PreviewType

```typescript
{
  visible?: boolean;
  onVisibleChange?: (visible, prevVisible, current: number) => void; // `current` only support after v5.3.0
  getContainer?: string | HTMLElement | (() => HTMLElement); // v4.8.0
  src?: string; // v4.10.0
  mask?: ReactNode; // v4.9.0
  maskClassName?: string; // v4.11.0
  current?: number; // v4.12.0 Only support PreviewGroup
  countRender?: (current: number, total: number) => string  // v4.20.0 Only support PreviewGroup
  scaleStep?: number;
  onChange?: (current: number, prevCurrent: number) => void; // only support after v5.3.0
}
```
